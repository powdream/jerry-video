(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(t,e,n){t.exports=n(85)},48:function(t,e,n){},50:function(t,e,n){},57:function(t,e,n){},85:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),i=n(16),o=n.n(i),s=(n(48),n(12)),c=n.n(s),u=n(17),l=n(7),p=n(8),m=n(19),h=n(18),d=n(20),v=(n(50),function(t){function e(){return Object(l.a)(this,e),Object(m.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(p.a)(e,[{key:"fetch",value:function(){var t=Object(u.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.makeRequest("GET",this.baseUrl()+"/v2/toplist");case 3:return e=t.sent,t.abrupt("return",JSON.parse(e));case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()}]),e}(function(){function t(e){Object(l.a)(this,t),this.isDev=e}return Object(p.a)(t,[{key:"baseUrl",value:function(){return this.isDev?"https://gm7o2xoumj.execute-api.us-east-1.amazonaws.com/dev":"https://v189wwdfoi.execute-api.us-east-1.amazonaws.com/prod"}},{key:"makeRequest",value:function(t,e){return new Promise(function(n,r){var a=new XMLHttpRequest;a.open(t,e),a.onload=function(){a.status>=200&&a.status<300?n(a.response):r({status:a.status,statusText:a.statusText})},a.onerror=function(){r({status:a.status,statusText:a.statusText})},a.send()})}}]),t}())),f=n(41),E=n.n(f),b=n(40),w=n.n(b),y=n(37),T=n(0),g=n(42);function k(){var t=Object(y.a)(["\n    display: block;\n    margin: 0 auto;\n    border-color: red;\n"]);return k=function(){return t},t}var O=Object(T.a)(k()),N=function(t){return t.isVisible?a.a.createElement("div",{className:"sweet-loading"},a.a.createElement(g.a,{css:O,sizeUnit:"px",size:150,color:"#123abc",loading:!0})):""},j=n(23),L=n.n(j),x=(n(57),function(t){var e=t.program;return a.a.createElement("p",{className:"Program-title"},e.title)}),R=function(t){var e=t.program;return e.optionalDescription?a.a.createElement("div",{className:"Program-description"},e.description,a.a.createElement("br",null),e.optionalDescription):a.a.createElement("div",{className:"Program-description"},e.description)},A=function(t){var e=t.program;return a.a.createElement("div",{className:"Program"},a.a.createElement(x,{program:e}),a.a.createElement(R,{program:e}))},S=n(39),K={PROGRAM_CLICKED:"program-clicked"},M=new S.EventEmitter,D=function(t){return a.a.createElement(L.a.Item,{key:t.uniqueId,action:!0,as:"a",onClick:function(){M.emit(K.PROGRAM_CLICKED,t)}},a.a.createElement(A,{program:t}))},I=function(t){var e=t.channel;return a.a.createElement(L.a,null,e.map(D))},C=[{eventKey:"DRAMA",title:"\ub4dc\ub77c\ub9c8"},{eventKey:"ENTERTAINMENT",title:"\uc624\ub77d"},{eventKey:"DOCUMENTARY",title:"\ub2e4\ud050"},{eventKey:"EVENT",title:"\uc2dc\uc0ac"},{eventKey:"NEWS",title:"\ub274\uc2a4,\uc2a4\ud3ec\uce20"}],P=function(t,e,n){var r=C.map(function(e){var r=e.eventKey,i=e.title;return a.a.createElement(w.a,{eventKey:r,title:i,key:r},n(null==t?null:t[r]))});return a.a.createElement(E.a,{defaultActiveKey:e,transition:!1},r)},U=function(){function t(){Object(l.a)(this,t),this.toplist=null,this.isLoaded=!1,this.error=null}return Object(p.a)(t,[{key:"setTopList",value:function(t){return this.toplist=t,this.isLoaded=!0,this}},{key:"setError",value:function(t){return this.error=t,this.isLoaded=!0,this}},{key:"build",value:function(){return new q(this)}}]),t}(),q=function t(e){Object(l.a)(this,t),this.toplist=e.toplist,this.isLoaded=e.isLoaded,this.error=e.error},z=function(t){var e=t.topListStatus,n=e.toplist;return e.isLoaded?e.error?P(n,"ENTERTAINMENT",function(){return a.a.createElement("div",null,e.error)}):P(n,"ENTERTAINMENT",function(t){return a.a.createElement(I,{channel:t})}):P(n,"ENTERTAINMENT",function(){return a.a.createElement(N,{isVisible:!0})})},G=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(m.a)(this,Object(h.a)(e).call(this,t))).state={topListStatus:(new U).build()},n.toplistStore=new v(!1),n}return Object(d.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){this.triggerToFetchToplist(),M.on(K.PROGRAM_CLICKED,function(t){console.log(t)})}},{key:"componentWillUnmount",value:function(){M.removeAllListeners()}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",null,"Jerry Video")),a.a.createElement("main",null,a.a.createElement(z,{topListStatus:this.state.topListStatus,id:"toplist-category-tabs"})))}},{key:"triggerToFetchToplist",value:function(){var t=Object(u.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.toplistStore.fetch();case 3:e=t.sent,this.setState({topListStatus:(new U).setTopList(e).build()}),console.log(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),this.setState({topListStatus:(new U).setError(t.t0.statusText?t.t0.statusText:"Unknown error").build()});case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}()}]),e}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(G,{id:"app"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.26aa2538.chunk.js.map